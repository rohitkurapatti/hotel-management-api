#Production environment configuration for Hotel Reservation Service
server:
  port: 9090

spring:
  # Database - update schema, don't recreate
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: false

  # H2 Console should be disabled in production (use real DB instead)
  h2:
    console:
      enabled: false  # SECURITY: Disable in real production

  # JSON formatting
  jackson:
    date-format: yyyy-MM-dd
    serialization:
      write-dates-as-timestamps: false
    default-property-inclusion: non_null

  # Kafka enabled in production
  kafka:
    enabled: true
    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}

# Production logging - less verbose, optimized for performance
logging:
  level:
    root: WARN
    org.springframework.web: INFO
    org.springframework.kafka: INFO
    feign: INFO
    com.reservation.hotel: INFO
    org.hibernate.SQL: WARN
    org.hibernate.type.descriptor.sql.BasicBinder: WARN
  file:
    name: logs/hotel-reservation.log
    max-size: 50MB
    max-history: 30
    total-size-cap: 1GB

# External services - use production URLs
services:
  creditcard:
    name: credit-card-payment-service
    base-url: ${CREDIT_CARD_SERVICE_URL:http://localhost:8080/mock-credit-card}

# Production scheduler
scheduler:
  reservation-cancellation:
    enabled: true
    cron: "0 0 1 * * *"  # Daily at midnight

# Swagger disabled in production for security
springdoc:
  api-docs:
    enabled: false
  swagger-ui:
    enabled: false

# Actuator - restricted endpoints in production
management:
  endpoints:
    web:
      exposure:
        include: health,info  # Only essential endpoints
  endpoint:
    health:
      show-details: when-authorized  # Hide details from public

